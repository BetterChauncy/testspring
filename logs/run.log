2018-12-14 11:02:30,345 INFO  [main] org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.learn.testspring.common.Test], using SpringBootContextLoader
2018-12-14 11:02:30,352 INFO  [main] org.springframework.test.context.support.AbstractContextLoader - Could not detect default resource locations for test class [com.learn.testspring.common.Test]: no resource found for suffixes {-context.xml, Context.groovy}.
2018-12-14 11:02:30,353 INFO  [main] org.springframework.test.context.support.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.learn.testspring.common.Test]: Test does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2018-12-14 11:02:30,984 INFO  [main] org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.learn.testspring.TestspringApplication for test class com.learn.testspring.common.Test
2018-12-14 11:02:31,021 INFO  [main] org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2018-12-14 11:02:31,180 INFO  [main] org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@667a738, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@36f0f1be, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@157632c9, org.springframework.test.context.support.DirtiesContextTestExecutionListener@6ee12bac, org.springframework.test.context.transaction.TransactionalTestExecutionListener@55040f2f, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@64c87930, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@400cff1a, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@275710fc, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@525f1e4e, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@75f9eccc, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@52aa2946, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@4de5031f]
2018-12-14 11:02:33,364 INFO  [main] org.springframework.context.annotation.AnnotationConfigApplicationContext - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@48aca48b: startup date [Fri Dec 14 11:02:33 CST 2018]; root of context hierarchy
2018-12-14 11:02:33,779 INFO  [main] org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2018-12-14 11:02:33,964 INFO  [main] org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'configurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$b92ef297] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-12-14 11:02:34,219 INFO  [main] org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 5.3.6.Final
2018-12-14 11:02:36,599 INFO  [main] com.learn.testspring.common.Test - No active profile set, falling back to default profiles: default
2018-12-14 11:02:36,628 INFO  [main] org.springframework.web.context.support.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@13e3c1c7: startup date [Fri Dec 14 11:02:36 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@48aca48b
2018-12-14 11:02:38,734 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode!
2018-12-14 11:02:39,444 INFO  [main] org.springframework.cloud.context.scope.GenericScope - BeanFactory id=fdd942c7-a447-3562-be39-12d0d517cca4
2018-12-14 11:02:39,499 INFO  [main] org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2018-12-14 11:02:39,621 INFO  [main] org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.statemachine.config.configuration.StateMachineAnnotationPostProcessorConfiguration' of type [org.springframework.statemachine.config.configuration.StateMachineAnnotationPostProcessorConfiguration$$EnhancerBySpringCGLIB$$f8a9059b] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-12-14 11:02:39,631 INFO  [main] org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$9d14ef9a] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-12-14 11:02:39,761 INFO  [main] org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$b92ef297] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-12-14 11:02:40,860 INFO  [main] org.springframework.jdbc.datasource.embedded.EmbeddedDatabaseFactory - Starting embedded database: url='jdbc:hsqldb:mem:testdb', username='sa'
2018-12-14 11:02:42,891 INFO  [main] com.yonghui.consul.YhConsulConfig - ConsulAutoRegistration tags : [env=local, rt=20181214110242]
2018-12-14 11:02:42,906 INFO  [main] com.yonghui.consul.EnvReader - env : local
2018-12-14 11:02:44,489 WARN  [main] com.taobao.diamond.utils.LoggerInit - 成功为DiamondConfigDataLog添加Appender. 输出路径:E:\testspring\.\logs\diamond_config_data.log
2018-12-14 11:02:44,523 INFO  [main] com.taobao.diamond.client.impl.DefaultDiamondSubscriber - diamond client start:2018年12月14日   11:02:44
2018-12-14 11:02:44,523 INFO  [main] com.taobao.diamond.client.impl.DefaultDiamondSubscriber - 添加了DataID[redis-config]，其Group为COMMON_REDIS
2018-12-14 11:02:44,982 INFO  [main] com.taobao.diamond.client.processor.ServerAddressProcessor - 在同步获取服务器列表时，向线上ConfigServer服务器获取到了服务器列表
2018-12-14 11:02:45,007 INFO  [main] com.taobao.diamond.client.impl.DefaultDiamondSubscriber - 当前使用的域名有：[10.19.90.19]
2018-12-14 11:02:45,030 INFO  [main] com.taobao.diamond.client.impl.DefaultDiamondSubscriber - /config-server/config.co?dataId=redis-config&group=COMMON_REDIS
2018-12-14 11:02:45,031 INFO  [main] com.taobao.diamond.client.impl.DefaultDiamondSubscriber - 设定的获取配置数据的重试次数为：214748364
2018-12-14 11:02:45,031 INFO  [main] com.taobao.diamond.client.impl.DefaultDiamondSubscriber - 获取配置数据，第1次尝试, waitTime:0
2018-12-14 11:02:46,641 INFO  [main] org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter - Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@13e3c1c7: startup date [Fri Dec 14 11:02:36 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@48aca48b
2018-12-14 11:02:46,768 INFO  [main] org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-12-14 11:02:46,769 INFO  [main] org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-12-14 11:02:46,807 INFO  [main] org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-12-14 11:02:46,807 INFO  [main] org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-12-14 11:02:46,871 INFO  [main] org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-12-14 11:02:48,382 WARN  [main] org.springframework.cloud.netflix.archaius.ArchaiusAutoConfiguration - No spring.application.name found, defaulting to 'application'
2018-12-14 11:02:48,386 WARN  [main] com.netflix.config.sources.URLConfigurationSource - No URLs will be polled as dynamic configuration sources.
2018-12-14 11:02:48,386 INFO  [main] com.netflix.config.sources.URLConfigurationSource - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2018-12-14 11:02:48,393 WARN  [main] com.netflix.config.sources.URLConfigurationSource - No URLs will be polled as dynamic configuration sources.
2018-12-14 11:02:48,393 INFO  [main] com.netflix.config.sources.URLConfigurationSource - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2018-12-14 11:02:48,576 INFO  [main] org.springframework.context.support.DefaultLifecycleProcessor - Starting beans in phase 0
2018-12-14 11:02:48,587 INFO  [main] com.learn.testspring.common.Test - Started Test in 16.911 seconds (JVM running for 19.477)
2018-12-14 11:02:48,787 ERROR [main] com.learn.testspring.common.EventConfig - 订单创建，待支付
2018-12-14 11:02:48,791 INFO  [main] org.springframework.statemachine.support.LifecycleObjectSupport - started org.springframework.statemachine.support.DefaultStateMachineExecutor@5c53c235
2018-12-14 11:02:48,791 INFO  [main] org.springframework.statemachine.support.LifecycleObjectSupport - started DONE UNPAID WAITING_FOR_RECEIVE  / UNPAID / uuid=2273288e-1cec-40a8-b41a-367f696df63c / id=null
2018-12-14 11:02:48,797 ERROR [main] com.learn.testspring.common.EventConfig - not accepted===GenericMessage [payload=RECEIVE, headers={id=fc4e11dc-2ace-d53e-e85b-273e8eb2f2d5, timestamp=1544756568794}]
2018-12-14 11:02:48,809 ERROR [main] com.learn.testspring.common.EventConfig - not accepted===GenericMessage [payload=RECEIVE, headers={id=ed4607ec-d840-25ce-dc29-6feea1f6a5a6, timestamp=1544756568798}]
2018-12-14 11:02:48,834 INFO  [Thread-7] org.springframework.web.context.support.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@13e3c1c7: startup date [Fri Dec 14 11:02:36 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@48aca48b
2018-12-14 11:02:48,835 WARN  [Thread-5] com.taobao.diamond.client.impl.DefaultDiamondSubscriber - 开始关闭DiamondSubscriber
2018-12-14 11:02:48,835 WARN  [Thread-5] com.taobao.diamond.client.impl.DefaultDiamondSubscriber - 关闭DiamondSubscriber完成
2018-12-14 11:02:48,860 INFO  [Thread-7] org.springframework.context.support.DefaultLifecycleProcessor - Stopping beans in phase 0
2018-12-14 11:02:48,874 INFO  [Thread-7] org.springframework.statemachine.support.LifecycleObjectSupport - stopped org.springframework.statemachine.support.DefaultStateMachineExecutor@5c53c235
2018-12-14 11:02:48,875 INFO  [Thread-7] org.springframework.statemachine.support.LifecycleObjectSupport - stopped DONE UNPAID WAITING_FOR_RECEIVE  /  / uuid=2273288e-1cec-40a8-b41a-367f696df63c / id=null
2018-12-14 11:02:48,893 INFO  [Thread-7] org.springframework.jdbc.datasource.embedded.EmbeddedDatabaseFactory - Shutting down embedded database: url='jdbc:hsqldb:mem:testdb'
2018-12-14 11:02:48,899 INFO  [Thread-7] org.springframework.statemachine.support.LifecycleObjectSupport - destroy called
2018-12-14 11:02:48,900 INFO  [Thread-7] org.springframework.statemachine.support.LifecycleObjectSupport - destroy called
2018-12-14 11:02:48,901 INFO  [Thread-7] org.springframework.statemachine.support.LifecycleObjectSupport - destroy called
2018-12-14 11:03:40,544 INFO  [main] org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.learn.testspring.common.Test], using SpringBootContextLoader
2018-12-14 11:03:40,548 INFO  [main] org.springframework.test.context.support.AbstractContextLoader - Could not detect default resource locations for test class [com.learn.testspring.common.Test]: no resource found for suffixes {-context.xml, Context.groovy}.
2018-12-14 11:03:40,548 INFO  [main] org.springframework.test.context.support.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.learn.testspring.common.Test]: Test does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2018-12-14 11:03:40,691 INFO  [main] org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.learn.testspring.TestspringApplication for test class com.learn.testspring.common.Test
2018-12-14 11:03:40,706 INFO  [main] org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2018-12-14 11:03:40,738 INFO  [main] org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@667a738, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@36f0f1be, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@157632c9, org.springframework.test.context.support.DirtiesContextTestExecutionListener@6ee12bac, org.springframework.test.context.transaction.TransactionalTestExecutionListener@55040f2f, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@64c87930, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@400cff1a, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@275710fc, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@525f1e4e, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@75f9eccc, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@52aa2946, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@4de5031f]
2018-12-14 11:03:41,758 INFO  [main] org.springframework.context.annotation.AnnotationConfigApplicationContext - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@48aca48b: startup date [Fri Dec 14 11:03:41 CST 2018]; root of context hierarchy
2018-12-14 11:03:41,921 INFO  [main] org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2018-12-14 11:03:41,961 INFO  [main] org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'configurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$b92ef297] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-12-14 11:03:42,041 INFO  [main] org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 5.3.6.Final
2018-12-14 11:03:42,846 INFO  [main] com.learn.testspring.common.Test - No active profile set, falling back to default profiles: default
2018-12-14 11:03:42,851 INFO  [main] org.springframework.web.context.support.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@354fc8f0: startup date [Fri Dec 14 11:03:42 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@48aca48b
2018-12-14 11:03:43,342 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode!
2018-12-14 11:03:43,696 INFO  [main] org.springframework.cloud.context.scope.GenericScope - BeanFactory id=fdd942c7-a447-3562-be39-12d0d517cca4
2018-12-14 11:03:43,754 INFO  [main] org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2018-12-14 11:03:43,823 INFO  [main] org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.statemachine.config.configuration.StateMachineAnnotationPostProcessorConfiguration' of type [org.springframework.statemachine.config.configuration.StateMachineAnnotationPostProcessorConfiguration$$EnhancerBySpringCGLIB$$f8a9059b] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-12-14 11:03:43,832 INFO  [main] org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$9d14ef9a] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-12-14 11:03:43,911 INFO  [main] org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$b92ef297] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-12-14 11:03:44,507 INFO  [main] org.springframework.jdbc.datasource.embedded.EmbeddedDatabaseFactory - Starting embedded database: url='jdbc:hsqldb:mem:testdb', username='sa'
2018-12-14 11:03:45,471 INFO  [main] com.yonghui.consul.YhConsulConfig - ConsulAutoRegistration tags : [env=local, rt=20181214110345]
2018-12-14 11:03:45,476 INFO  [main] com.yonghui.consul.EnvReader - env : local
2018-12-14 11:03:46,196 WARN  [main] com.taobao.diamond.utils.LoggerInit - 成功为DiamondConfigDataLog添加Appender. 输出路径:E:\testspring\.\logs\diamond_config_data.log
2018-12-14 11:03:46,205 INFO  [main] com.taobao.diamond.client.impl.DefaultDiamondSubscriber - diamond client start:2018年12月14日   11:03:46
2018-12-14 11:03:46,206 INFO  [main] com.taobao.diamond.client.impl.DefaultDiamondSubscriber - 添加了DataID[redis-config]，其Group为COMMON_REDIS
2018-12-14 11:03:46,479 INFO  [main] com.taobao.diamond.client.processor.ServerAddressProcessor - 在同步获取服务器列表时，向线上ConfigServer服务器获取到了服务器列表
2018-12-14 11:03:46,487 INFO  [main] com.taobao.diamond.client.impl.DefaultDiamondSubscriber - 当前使用的域名有：[10.19.90.19]
2018-12-14 11:03:46,487 INFO  [main] com.taobao.diamond.client.impl.DefaultDiamondSubscriber - /config-server/config.co?dataId=redis-config&group=COMMON_REDIS
2018-12-14 11:03:46,487 INFO  [main] com.taobao.diamond.client.impl.DefaultDiamondSubscriber - 设定的获取配置数据的重试次数为：214748364
2018-12-14 11:03:46,488 INFO  [main] com.taobao.diamond.client.impl.DefaultDiamondSubscriber - 获取配置数据，第1次尝试, waitTime:0
2018-12-14 11:03:47,340 INFO  [main] org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter - Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@354fc8f0: startup date [Fri Dec 14 11:03:42 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@48aca48b
2018-12-14 11:03:47,409 INFO  [main] org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-12-14 11:03:47,410 INFO  [main] org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-12-14 11:03:47,444 INFO  [main] org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-12-14 11:03:47,444 INFO  [main] org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-12-14 11:03:47,484 INFO  [main] org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-12-14 11:03:48,577 WARN  [main] org.springframework.cloud.netflix.archaius.ArchaiusAutoConfiguration - No spring.application.name found, defaulting to 'application'
2018-12-14 11:03:48,583 WARN  [main] com.netflix.config.sources.URLConfigurationSource - No URLs will be polled as dynamic configuration sources.
2018-12-14 11:03:48,583 INFO  [main] com.netflix.config.sources.URLConfigurationSource - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2018-12-14 11:03:48,593 WARN  [main] com.netflix.config.sources.URLConfigurationSource - No URLs will be polled as dynamic configuration sources.
2018-12-14 11:03:48,593 INFO  [main] com.netflix.config.sources.URLConfigurationSource - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2018-12-14 11:03:48,764 INFO  [main] org.springframework.context.support.DefaultLifecycleProcessor - Starting beans in phase 0
2018-12-14 11:03:48,775 INFO  [main] com.learn.testspring.common.Test - Started Test in 7.933 seconds (JVM running for 8.816)
2018-12-14 11:03:48,847 ERROR [main] com.learn.testspring.common.EventConfig - 订单创建，待支付
2018-12-14 11:03:48,852 INFO  [main] org.springframework.statemachine.support.LifecycleObjectSupport - started org.springframework.statemachine.support.DefaultStateMachineExecutor@722787b5
2018-12-14 11:03:48,852 INFO  [main] org.springframework.statemachine.support.LifecycleObjectSupport - started DONE WAITING_FOR_RECEIVE UNPAID  / UNPAID / uuid=f8347001-67d7-458d-83cd-9f626fc35978 / id=null
2018-12-14 11:03:48,859 ERROR [main] com.learn.testspring.common.EventConfig - 用户完成支付，待收货: start
2018-12-14 11:03:48,860 ERROR [main] com.learn.testspring.common.EventConfig - 用户完成支付，待收货
2018-12-14 11:03:48,861 ERROR [main] com.learn.testspring.common.EventConfig - 用户完成支付，待收货: end
2018-12-14 11:03:48,862 ERROR [main] com.learn.testspring.common.EventConfig - 用户已收货，订单完成
2018-12-14 11:03:48,869 INFO  [Thread-7] org.springframework.web.context.support.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@354fc8f0: startup date [Fri Dec 14 11:03:42 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@48aca48b
2018-12-14 11:03:48,870 WARN  [Thread-5] com.taobao.diamond.client.impl.DefaultDiamondSubscriber - 开始关闭DiamondSubscriber
2018-12-14 11:03:48,871 WARN  [Thread-5] com.taobao.diamond.client.impl.DefaultDiamondSubscriber - 关闭DiamondSubscriber完成
2018-12-14 11:03:48,873 INFO  [Thread-7] org.springframework.context.support.DefaultLifecycleProcessor - Stopping beans in phase 0
2018-12-14 11:03:48,874 INFO  [Thread-7] org.springframework.statemachine.support.LifecycleObjectSupport - stopped org.springframework.statemachine.support.DefaultStateMachineExecutor@722787b5
2018-12-14 11:03:48,874 INFO  [Thread-7] org.springframework.statemachine.support.LifecycleObjectSupport - stopped DONE WAITING_FOR_RECEIVE UNPAID  /  / uuid=f8347001-67d7-458d-83cd-9f626fc35978 / id=null
2018-12-14 11:03:48,880 INFO  [Thread-7] org.springframework.jdbc.datasource.embedded.EmbeddedDatabaseFactory - Shutting down embedded database: url='jdbc:hsqldb:mem:testdb'
2018-12-14 11:03:48,889 INFO  [Thread-7] org.springframework.statemachine.support.LifecycleObjectSupport - destroy called
2018-12-14 11:03:48,889 INFO  [Thread-7] org.springframework.statemachine.support.LifecycleObjectSupport - destroy called
2018-12-14 11:03:48,890 INFO  [Thread-7] org.springframework.statemachine.support.LifecycleObjectSupport - destroy called
2018-12-14 14:45:13,234 INFO  [main] org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.learn.testspring.common.Test], using SpringBootContextLoader
2018-12-14 14:45:13,238 INFO  [main] org.springframework.test.context.support.AbstractContextLoader - Could not detect default resource locations for test class [com.learn.testspring.common.Test]: no resource found for suffixes {-context.xml, Context.groovy}.
2018-12-14 14:45:13,239 INFO  [main] org.springframework.test.context.support.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.learn.testspring.common.Test]: Test does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2018-12-14 14:45:13,404 INFO  [main] org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.learn.testspring.TestspringApplication for test class com.learn.testspring.common.Test
2018-12-14 14:45:13,416 INFO  [main] org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2018-12-14 14:45:13,442 INFO  [main] org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@1e67a849, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@57d5872c, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@667a738, org.springframework.test.context.support.DirtiesContextTestExecutionListener@36f0f1be, org.springframework.test.context.transaction.TransactionalTestExecutionListener@157632c9, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6ee12bac, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@55040f2f, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@64c87930, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@400cff1a, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@275710fc, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@525f1e4e, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@75f9eccc]
2018-12-14 14:45:14,584 INFO  [main] org.springframework.context.annotation.AnnotationConfigApplicationContext - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@4efac082: startup date [Fri Dec 14 14:45:14 CST 2018]; root of context hierarchy
2018-12-14 14:45:14,784 INFO  [main] org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2018-12-14 14:45:14,844 INFO  [main] org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'configurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$4ad70946] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-12-14 14:45:14,941 INFO  [main] org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 5.3.6.Final
2018-12-14 14:45:15,728 INFO  [main] com.learn.testspring.common.Test - No active profile set, falling back to default profiles: default
2018-12-14 14:45:15,733 INFO  [main] org.springframework.web.context.support.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@f73dcd6: startup date [Fri Dec 14 14:45:15 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@4efac082
2018-12-14 14:45:16,254 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode!
2018-12-14 14:45:16,597 INFO  [main] org.springframework.cloud.context.scope.GenericScope - BeanFactory id=fdd942c7-a447-3562-be39-12d0d517cca4
2018-12-14 14:45:16,663 INFO  [main] org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2018-12-14 14:45:16,748 INFO  [main] org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.statemachine.config.configuration.StateMachineAnnotationPostProcessorConfiguration' of type [org.springframework.statemachine.config.configuration.StateMachineAnnotationPostProcessorConfiguration$$EnhancerBySpringCGLIB$$8a511c4a] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-12-14 14:45:16,757 INFO  [main] org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$2ebd0649] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-12-14 14:45:16,810 INFO  [main] org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$4ad70946] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-12-14 14:45:17,463 INFO  [main] org.springframework.jdbc.datasource.embedded.EmbeddedDatabaseFactory - Starting embedded database: url='jdbc:hsqldb:mem:testdb', username='sa'
2018-12-14 14:45:18,495 INFO  [main] com.yonghui.consul.YhConsulConfig - ConsulAutoRegistration tags : [env=local, rt=20181214144518]
2018-12-14 14:45:18,503 INFO  [main] com.yonghui.consul.EnvReader - env : local
2018-12-14 14:45:19,228 WARN  [main] com.taobao.diamond.utils.LoggerInit - 成功为DiamondConfigDataLog添加Appender. 输出路径:E:\testspring\.\logs\diamond_config_data.log
2018-12-14 14:45:19,234 INFO  [main] com.taobao.diamond.client.impl.DefaultDiamondSubscriber - diamond client start:2018年12月14日   14:45:19
2018-12-14 14:45:19,235 INFO  [main] com.taobao.diamond.client.impl.DefaultDiamondSubscriber - 添加了DataID[redis-config]，其Group为COMMON_REDIS
2018-12-14 14:45:19,507 INFO  [main] com.taobao.diamond.client.processor.ServerAddressProcessor - 在同步获取服务器列表时，向线上ConfigServer服务器获取到了服务器列表
2018-12-14 14:45:19,514 INFO  [main] com.taobao.diamond.client.impl.DefaultDiamondSubscriber - 当前使用的域名有：[10.19.90.19]
2018-12-14 14:45:19,515 INFO  [main] com.taobao.diamond.client.impl.DefaultDiamondSubscriber - /config-server/config.co?dataId=redis-config&group=COMMON_REDIS
2018-12-14 14:45:19,515 INFO  [main] com.taobao.diamond.client.impl.DefaultDiamondSubscriber - 设定的获取配置数据的重试次数为：214748364
2018-12-14 14:45:19,515 INFO  [main] com.taobao.diamond.client.impl.DefaultDiamondSubscriber - 获取配置数据，第1次尝试, waitTime:0
2018-12-14 14:45:20,334 INFO  [main] org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter - Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@f73dcd6: startup date [Fri Dec 14 14:45:15 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@4efac082
2018-12-14 14:45:20,418 INFO  [main] org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-12-14 14:45:20,419 INFO  [main] org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-12-14 14:45:20,460 INFO  [main] org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-12-14 14:45:20,460 INFO  [main] org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-12-14 14:45:20,504 INFO  [main] org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-12-14 14:45:21,636 WARN  [main] org.springframework.cloud.netflix.archaius.ArchaiusAutoConfiguration - No spring.application.name found, defaulting to 'application'
2018-12-14 14:45:21,641 WARN  [main] com.netflix.config.sources.URLConfigurationSource - No URLs will be polled as dynamic configuration sources.
2018-12-14 14:45:21,641 INFO  [main] com.netflix.config.sources.URLConfigurationSource - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2018-12-14 14:45:21,647 WARN  [main] com.netflix.config.sources.URLConfigurationSource - No URLs will be polled as dynamic configuration sources.
2018-12-14 14:45:21,648 INFO  [main] com.netflix.config.sources.URLConfigurationSource - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2018-12-14 14:45:21,863 INFO  [main] org.springframework.context.support.DefaultLifecycleProcessor - Starting beans in phase 0
2018-12-14 14:45:21,879 INFO  [main] com.learn.testspring.common.Test - Started Test in 8.327 seconds (JVM running for 9.336)
2018-12-14 14:45:21,965 ERROR [main] com.learn.testspring.common.EventConfig - 订单创建，待支付
2018-12-14 14:45:21,970 INFO  [main] org.springframework.statemachine.support.LifecycleObjectSupport - started org.springframework.statemachine.support.DefaultStateMachineExecutor@7d401cdc
2018-12-14 14:45:21,970 INFO  [main] org.springframework.statemachine.support.LifecycleObjectSupport - started WAITING_FOR_RECEIVE UNPAID DONE  / UNPAID / uuid=101608da-a59b-4ff0-a41d-200acfc3eadb / id=null
2018-12-14 14:45:21,978 ERROR [main] com.learn.testspring.common.EventConfig - 用户完成支付，待收货: start
2018-12-14 14:45:21,979 ERROR [main] com.learn.testspring.common.EventConfig - 用户完成支付，待收货
2018-12-14 14:45:21,981 ERROR [main] com.learn.testspring.common.EventConfig - 用户完成支付，待收货: end
2018-12-14 14:45:21,985 ERROR [main] com.learn.testspring.common.EventConfig - not accepted===GenericMessage [payload=RECEIVE, headers={id=1313100c-437d-0f36-9c2e-2eb492c47517, timestamp=1544769921982}]
2018-12-14 14:45:21,994 INFO  [Thread-7] org.springframework.web.context.support.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@f73dcd6: startup date [Fri Dec 14 14:45:15 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@4efac082
2018-12-14 14:45:21,994 WARN  [Thread-5] com.taobao.diamond.client.impl.DefaultDiamondSubscriber - 开始关闭DiamondSubscriber
2018-12-14 14:45:21,994 WARN  [Thread-5] com.taobao.diamond.client.impl.DefaultDiamondSubscriber - 关闭DiamondSubscriber完成
2018-12-14 14:45:21,996 INFO  [Thread-7] org.springframework.context.support.DefaultLifecycleProcessor - Stopping beans in phase 0
2018-12-14 14:45:21,997 INFO  [Thread-7] org.springframework.statemachine.support.LifecycleObjectSupport - stopped org.springframework.statemachine.support.DefaultStateMachineExecutor@7d401cdc
2018-12-14 14:45:21,998 INFO  [Thread-7] org.springframework.statemachine.support.LifecycleObjectSupport - stopped WAITING_FOR_RECEIVE UNPAID DONE  /  / uuid=101608da-a59b-4ff0-a41d-200acfc3eadb / id=null
2018-12-14 14:45:22,004 INFO  [Thread-7] org.springframework.jdbc.datasource.embedded.EmbeddedDatabaseFactory - Shutting down embedded database: url='jdbc:hsqldb:mem:testdb'
2018-12-14 14:45:22,015 INFO  [Thread-7] org.springframework.statemachine.support.LifecycleObjectSupport - destroy called
2018-12-14 14:45:22,015 INFO  [Thread-7] org.springframework.statemachine.support.LifecycleObjectSupport - destroy called
2018-12-14 14:45:22,016 INFO  [Thread-7] org.springframework.statemachine.support.LifecycleObjectSupport - destroy called
2018-12-14 14:52:06,425 INFO  [main] org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.learn.testspring.common.Test], using SpringBootContextLoader
2018-12-14 14:52:06,429 INFO  [main] org.springframework.test.context.support.AbstractContextLoader - Could not detect default resource locations for test class [com.learn.testspring.common.Test]: no resource found for suffixes {-context.xml, Context.groovy}.
2018-12-14 14:52:06,430 INFO  [main] org.springframework.test.context.support.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.learn.testspring.common.Test]: Test does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2018-12-14 14:52:06,576 INFO  [main] org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.learn.testspring.TestspringApplication for test class com.learn.testspring.common.Test
2018-12-14 14:52:06,590 INFO  [main] org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2018-12-14 14:52:06,616 INFO  [main] org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@1e67a849, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@57d5872c, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@667a738, org.springframework.test.context.support.DirtiesContextTestExecutionListener@36f0f1be, org.springframework.test.context.transaction.TransactionalTestExecutionListener@157632c9, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6ee12bac, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@55040f2f, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@64c87930, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@400cff1a, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@275710fc, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@525f1e4e, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@75f9eccc]
2018-12-14 14:52:07,663 INFO  [main] org.springframework.context.annotation.AnnotationConfigApplicationContext - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@4efac082: startup date [Fri Dec 14 14:52:07 CST 2018]; root of context hierarchy
2018-12-14 14:52:07,849 INFO  [main] org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2018-12-14 14:52:07,900 INFO  [main] org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'configurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$4ad70946] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-12-14 14:52:07,968 INFO  [background-preinit] org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 5.3.6.Final
2018-12-14 14:52:08,765 INFO  [main] com.learn.testspring.common.Test - No active profile set, falling back to default profiles: default
2018-12-14 14:52:08,770 INFO  [main] org.springframework.web.context.support.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@62163b39: startup date [Fri Dec 14 14:52:08 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@4efac082
2018-12-14 14:52:09,252 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode!
2018-12-14 14:52:09,581 INFO  [main] org.springframework.cloud.context.scope.GenericScope - BeanFactory id=fdd942c7-a447-3562-be39-12d0d517cca4
2018-12-14 14:52:09,641 INFO  [main] org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2018-12-14 14:52:09,713 INFO  [main] org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.statemachine.config.configuration.StateMachineAnnotationPostProcessorConfiguration' of type [org.springframework.statemachine.config.configuration.StateMachineAnnotationPostProcessorConfiguration$$EnhancerBySpringCGLIB$$8a511c4a] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-12-14 14:52:09,721 INFO  [main] org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$2ebd0649] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-12-14 14:52:09,778 INFO  [main] org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$4ad70946] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-12-14 14:52:10,409 INFO  [main] org.springframework.jdbc.datasource.embedded.EmbeddedDatabaseFactory - Starting embedded database: url='jdbc:hsqldb:mem:testdb', username='sa'
2018-12-14 14:52:11,465 INFO  [main] com.yonghui.consul.YhConsulConfig - ConsulAutoRegistration tags : [env=local, rt=20181214145211]
2018-12-14 14:52:11,471 INFO  [main] com.yonghui.consul.EnvReader - env : local
2018-12-14 14:52:12,302 WARN  [main] com.taobao.diamond.utils.LoggerInit - 成功为DiamondConfigDataLog添加Appender. 输出路径:E:\testspring\.\logs\diamond_config_data.log
2018-12-14 14:52:12,309 INFO  [main] com.taobao.diamond.client.impl.DefaultDiamondSubscriber - diamond client start:2018年12月14日   14:52:12
2018-12-14 14:52:12,309 INFO  [main] com.taobao.diamond.client.impl.DefaultDiamondSubscriber - 添加了DataID[redis-config]，其Group为COMMON_REDIS
2018-12-14 14:52:12,666 INFO  [main] com.taobao.diamond.client.processor.ServerAddressProcessor - 在同步获取服务器列表时，向线上ConfigServer服务器获取到了服务器列表
2018-12-14 14:52:12,673 INFO  [main] com.taobao.diamond.client.impl.DefaultDiamondSubscriber - 当前使用的域名有：[10.19.90.19]
2018-12-14 14:52:12,674 INFO  [main] com.taobao.diamond.client.impl.DefaultDiamondSubscriber - /config-server/config.co?dataId=redis-config&group=COMMON_REDIS
2018-12-14 14:52:12,674 INFO  [main] com.taobao.diamond.client.impl.DefaultDiamondSubscriber - 设定的获取配置数据的重试次数为：214748364
2018-12-14 14:52:12,674 INFO  [main] com.taobao.diamond.client.impl.DefaultDiamondSubscriber - 获取配置数据，第1次尝试, waitTime:0
2018-12-14 14:52:13,732 INFO  [main] org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter - Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@62163b39: startup date [Fri Dec 14 14:52:08 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@4efac082
2018-12-14 14:52:13,852 INFO  [main] org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-12-14 14:52:13,853 INFO  [main] org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-12-14 14:52:13,913 INFO  [main] org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-12-14 14:52:13,913 INFO  [main] org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-12-14 14:52:13,975 INFO  [main] org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-12-14 14:52:15,153 WARN  [main] org.springframework.cloud.netflix.archaius.ArchaiusAutoConfiguration - No spring.application.name found, defaulting to 'application'
2018-12-14 14:52:15,158 WARN  [main] com.netflix.config.sources.URLConfigurationSource - No URLs will be polled as dynamic configuration sources.
2018-12-14 14:52:15,158 INFO  [main] com.netflix.config.sources.URLConfigurationSource - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2018-12-14 14:52:15,164 WARN  [main] com.netflix.config.sources.URLConfigurationSource - No URLs will be polled as dynamic configuration sources.
2018-12-14 14:52:15,165 INFO  [main] com.netflix.config.sources.URLConfigurationSource - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2018-12-14 14:52:15,376 INFO  [main] org.springframework.context.support.DefaultLifecycleProcessor - Starting beans in phase 0
2018-12-14 14:52:15,394 INFO  [main] com.learn.testspring.common.Test - Started Test in 8.658 seconds (JVM running for 9.585)
2018-12-14 14:52:15,473 ERROR [main] com.learn.testspring.common.EventConfig - 订单创建，待支付
2018-12-14 14:52:15,476 INFO  [main] org.springframework.statemachine.support.LifecycleObjectSupport - started org.springframework.statemachine.support.DefaultStateMachineExecutor@161d95c6
2018-12-14 14:52:15,476 INFO  [main] org.springframework.statemachine.support.LifecycleObjectSupport - started WAITING_FOR_RECEIVE DONE UNPAID  / UNPAID / uuid=b21de9dd-1f40-4929-9ece-b0098734dc15 / id=null
2018-12-14 14:52:15,485 ERROR [main] com.learn.testspring.common.EventConfig - 用户完成支付，待收货: start
2018-12-14 14:52:15,487 ERROR [main] com.learn.testspring.common.EventConfig - 用户完成支付，待收货
2018-12-14 14:52:15,488 ERROR [main] com.learn.testspring.common.EventConfig - 用户完成支付，待收货: end
2018-12-14 14:52:15,491 ERROR [main] com.learn.testspring.common.EventConfig - source===ObjectState [getIds()=[WAITING_FOR_RECEIVE], getClass()=class org.springframework.statemachine.state.ObjectState, hashCode()=830592222, toString()=AbstractState [id=WAITING_FOR_RECEIVE, pseudoState=null, deferred=[], entryActions=[], exitActions=[], stateActions=[], regions=[], submachine=null]]
2018-12-14 14:52:15,491 ERROR [main] com.learn.testspring.common.EventConfig - source===null
2018-12-14 14:52:15,491 ERROR [main] com.learn.testspring.common.EventConfig - not accepted===GenericMessage [payload=RECEIVE, headers={id=48f3f2da-4486-1ae1-6425-64795673da6c, timestamp=1544770335488}]
2018-12-14 14:52:15,502 WARN  [Thread-5] com.taobao.diamond.client.impl.DefaultDiamondSubscriber - 开始关闭DiamondSubscriber
2018-12-14 14:52:15,503 INFO  [Thread-7] org.springframework.web.context.support.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@62163b39: startup date [Fri Dec 14 14:52:08 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@4efac082
2018-12-14 14:52:15,503 WARN  [Thread-5] com.taobao.diamond.client.impl.DefaultDiamondSubscriber - 关闭DiamondSubscriber完成
2018-12-14 14:52:15,505 INFO  [Thread-7] org.springframework.context.support.DefaultLifecycleProcessor - Stopping beans in phase 0
2018-12-14 14:52:15,506 INFO  [Thread-7] org.springframework.statemachine.support.LifecycleObjectSupport - stopped org.springframework.statemachine.support.DefaultStateMachineExecutor@161d95c6
2018-12-14 14:52:15,507 INFO  [Thread-7] org.springframework.statemachine.support.LifecycleObjectSupport - stopped WAITING_FOR_RECEIVE DONE UNPAID  /  / uuid=b21de9dd-1f40-4929-9ece-b0098734dc15 / id=null
2018-12-14 14:52:15,513 INFO  [Thread-7] org.springframework.jdbc.datasource.embedded.EmbeddedDatabaseFactory - Shutting down embedded database: url='jdbc:hsqldb:mem:testdb'
2018-12-14 14:52:15,523 INFO  [Thread-7] org.springframework.statemachine.support.LifecycleObjectSupport - destroy called
2018-12-14 14:52:15,524 INFO  [Thread-7] org.springframework.statemachine.support.LifecycleObjectSupport - destroy called
2018-12-14 14:52:15,525 INFO  [Thread-7] org.springframework.statemachine.support.LifecycleObjectSupport - destroy called
